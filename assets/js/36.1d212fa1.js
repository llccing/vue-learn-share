(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{391:function(t,e,s){"use strict";s.r(e);var a=s(45),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"plugin-插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#plugin-插件"}},[t._v("#")]),t._v(" plugin 插件")]),t._v(" "),s("p",[s("strong",[t._v("组件化：")])]),t._v(" "),s("p",[t._v("台式电脑可以分为三部分，显示器、主机、键鼠，主机，内部再次拆分为主板、电源、硬盘、内存条等等部分。每一个部分是自闭和的整体，我理解这就是一种组件化的方式。")]),t._v(" "),s("p",[s("strong",[t._v("插件化：")])]),t._v(" "),s("p",[t._v("主板上有很多"),s("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E5%A4%96%E8%AE%BE%E7%BB%84%E4%BB%B6%E4%BA%92%E8%BF%9E%E6%A0%87%E5%87%86",target:"_blank",rel:"noopener noreferrer"}},[t._v("PCI"),s("OutboundLink")],1),t._v("，这些插槽可以查很多东西，来丰富电脑的功能，比如：网卡、声卡、电视卡、硬盘控制器等等许多东西，那么你说没有拆件电脑能够启动吗，当然只不过有些功能不能实现，比如上网、听音与。插件化就是这种道理，通过丰富的插件简化Vue开发，是你专注于业务逻辑，同时通过官方插件构建的项目也是最佳实践。当然也支持自定义插件，按照统一的插件开发方式写出的插件就能够适配所有 Vue/cli 创建的项目。")]),t._v(" "),s("h2",{attrs:{id:"插件组成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插件组成"}},[t._v("#")]),t._v(" 插件组成")]),t._v(" "),s("p",[t._v("首先我们头脑中需要有一个插件的整体概念，由哪些部分组成：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n├── README.md\n├── generator.js  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# generator（可选）")]),t._v("\n├── index.js      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# service 插件")]),t._v("\n├── package.json\n├── prompts.js    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# prompt 文件（可选）")]),t._v("\n└── ui.js         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Vue UI 集成（可选）")]),t._v("\n")])])]),s("h2",{attrs:{id:"安装并执行插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装并执行插件"}},[t._v("#")]),t._v(" 安装并执行插件")]),t._v(" "),s("p",[s("code",[t._v("vue add [plugin]")]),t._v("，这个命令我们已经在"),s("a",{attrs:{href:"https://llccing.github.io/FrontEnd/lib/vue-cli/04-cli-add.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("前面"),s("OutboundLink")],1),t._v("讲过了。")]),t._v(" "),s("p",[t._v("插件包函几部分中，"),s("code",[t._v("generator")]),t._v(" 和 "),s("code",[t._v("prompts")]),t._v(" 是在 "),s("code",[t._v("vue add")]),t._v(" 命令执行的时候执行的。")]),t._v(" "),s("p",[s("code",[t._v("service")]),t._v(" 插件的执行时机则是在运行 "),s("code",[t._v("vue-cli-service xxx")]),t._v(" 命令时，如 "),s("code",[t._v("vue-cli-service serve")]),t._v("，得出这个结论可以看下 "),s("code",[t._v("@vue/cli-service/lib/Service.js")]),t._v(" 的 "),s("code",[t._v("init")]),t._v(" 方法：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// apply plugins.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this.plugins 就是当前项目中的全部 Vue CLI 插件")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("plugins"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" apply "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pluginsToSkip"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("has")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// apply 方法就是 插件中 Service 默认导出的函数")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PluginAPI")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("projectOptions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("至于为什么 "),s("code",[t._v("vue-cli-service serve")]),t._v(" 最终会走到上面的 "),s("code",[t._v("init")]),t._v(" 方法，我们在之前在 "),s("a",{attrs:{href:"https://llccing.github.io/FrontEnd/lib/vue-cli/06-cli-inspect.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("探索 vue inspect"),s("OutboundLink")],1),t._v(" 时提到过的。")]),t._v(" "),s("h2",{attrs:{id:"插件列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插件列表"}},[t._v("#")]),t._v(" 插件列表")]),t._v(" "),s("p",[s("strong",[t._v("官方插件")])]),t._v(" "),s("ul",[s("li",[t._v("@vue/cli-plugin-vuex")]),t._v(" "),s("li",[t._v("@vue/cli-plugin-router")]),t._v(" "),s("li",[t._v("@vue/cli-plugin-typescript")]),t._v(" "),s("li",[t._v("@vue/cli-plugin-eslint")]),t._v(" "),s("li",[t._v("@vue/cli-plugin-babel")]),t._v(" "),s("li",[t._v("@vue/cli-plugin-pwa")]),t._v(" "),s("li",[t._v("@vue/cli-plugin-unit-jest")]),t._v(" "),s("li",[t._v("@vue/cli-plugin-unit-mocha")]),t._v(" "),s("li",[t._v("@vue/cli-plugin-e2e-cypress")]),t._v(" "),s("li",[t._v("@vue/cli-plugin-e2e-nightwatch")])]),t._v(" "),s("h2",{attrs:{id:"todo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#todo"}},[t._v("#")]),t._v(" TODO")]),t._v(" "),s("ul",{staticClass:"contains-task-list"},[s("li",{staticClass:"task-list-item"},[s("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" 翻译 "),s("a",{attrs:{href:"https://cli.vuejs.org/dev-guide/plugin-dev.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("plugin-dev"),s("OutboundLink")],1),t._v(" 文档")]),t._v(" "),s("li",{staticClass:"task-list-item"},[s("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" @vue/cli-plugin-vuex")]),t._v(" "),s("li",{staticClass:"task-list-item"},[s("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" @vue/cli-plugin-router")]),t._v(" "),s("li",{staticClass:"task-list-item"},[s("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" @vue/cli-plugin-babel")]),t._v(" "),s("li",{staticClass:"task-list-item"},[s("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" @vue/cli-plugin-typescript")]),t._v(" "),s("li",{staticClass:"task-list-item"},[s("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" @vue/cli-plugin-eslint")]),t._v(" "),s("li",{staticClass:"task-list-item"},[s("input",{staticClass:"task-list-item-checkbox",attrs:{disabled:"",type:"checkbox"}}),t._v(" @vue/cli-plugin-pwa")])]),t._v(" "),s("p",[t._v("使用Markdown语法来写 todo list 还有个小插曲："),s("a",{attrs:{href:"https://github.com/vuejs/vuepress/issues/986",target:"_blank",rel:"noopener noreferrer"}},[t._v("不展示 todo list的原因见此"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"插件开发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插件开发"}},[t._v("#")]),t._v(" 插件开发")]),t._v(" "),s("p",[t._v("插件开发部分的文档可以见我"),s("a",{attrs:{href:"https://llccing.github.io/FrontEnd/blog/translate/vue-cli-plugin-dev.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("翻译的内容"),s("OutboundLink")],1),t._v("，相信会对你有所帮助。")]),t._v(" "),s("h2",{attrs:{id:"webpack-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-loader"}},[t._v("#")]),t._v(" webpack loader")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-loader"),s("OutboundLink")],1),t._v(" Vue.js 对应 webpack loader")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/babel/babel-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel-loader"),s("OutboundLink")],1),t._v(" 就是那个很厉害的工具对应的 webpack 插件")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/webpack-contrib/thread-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("thread-loader"),s("OutboundLink")],1),t._v(" 在一个工作池中运行接下来的 loader")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/webpack-contrib/cache-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("cache-loader"),s("OutboundLink")],1),t._v(" 在磁盘中缓存接下来的 loader")])]),t._v(" "),s("h2",{attrs:{id:"webpack-plugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-plugin"}},[t._v("#")]),t._v(" webpack plugin")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/TypeStrong/fork-ts-checker-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("fork-ts-checker-webpack-plugin"),s("OutboundLink")],1),t._v(" 在单独的进程中运行 typescirpt 类型检查器")])])])}),[],!1,null,null,null);e.default=n.exports}}]);