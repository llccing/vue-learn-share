(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{366:function(t,r,e){"use strict";e.r(r);var s=e(45),a=Object(s.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"vue-cli-源码探索"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-源码探索"}},[t._v("#")]),t._v(" Vue ClI 源码探索")]),t._v(" "),e("p",[t._v("它号称 Vue.js 开发的标准工具")]),t._v(" "),e("p",[t._v("具有以下特性：")]),t._v(" "),e("ul",[e("li",[t._v("功能丰富：对于 Babel、Typescript、ESLint、PostCSS、PWA、单元测试和End-to-End测试提供开箱即用的支持。")]),t._v(" "),e("li",[t._v("易于扩展：它的插件系统可以让社区常见需求构建和共享可复用的解决方案。")]),t._v(" "),e("li",[t._v("无需Eject (eject说的是啥)：Vue CLI 完全是可配置的，无需eject。这样你的项目就可以长期保持更新了。")]),t._v(" "),e("li",[t._v("CLI 之上的图形化：图形化界面创建、开发和管理你的项目。（对于开发的我感觉这个功能用处不大）")]),t._v(" "),e("li",[t._v("即刻创建原型：单个 Vue 文件即刻实践新的灵感")]),t._v(" "),e("li",[t._v("面向未来：为现代浏览器轻松产出原生的 ES2015 代码，或将你的 Vue 组件构建为原生的 Web Components 组件。")])]),t._v(" "),e("h2",{attrs:{id:"how"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how"}},[t._v("#")]),t._v(" How")]),t._v(" "),e("p",[t._v("上面提到的这些特点，我们通过代码层面，一层层的来看，怎么能够做到这么厉害，揭秘这个工具的内部逻辑。")]),t._v(" "),e("h3",{attrs:{id:"探索步骤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#探索步骤"}},[t._v("#")]),t._v(" 探索步骤")]),t._v(" "),e("ul",[e("li",[t._v("先搞清楚大的流程，然后慢慢深入")]),t._v(" "),e("li",[t._v("从 "),e("code",[t._v("Vue create xxx")]),t._v(" 命令开始逐步分析")]),t._v(" "),e("li",[t._v("找出插件注册的方式")]),t._v(" "),e("li",[t._v("发现一些有趣的写法")])]),t._v(" "),e("h3",{attrs:{id:"todo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#todo"}},[t._v("#")]),t._v(" TODO")]),t._v(" "),e("ul",{staticClass:"contains-task-list"},[e("li",{staticClass:"task-list-item"},[e("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" 清晰整体结构")]),t._v(" "),e("li",{staticClass:"task-list-item"},[e("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" @vue/cli")]),t._v(" "),e("li",{staticClass:"task-list-item"},[e("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" @vue/cli-init")]),t._v(" "),e("li",{staticClass:"task-list-item"},[e("input",{staticClass:"task-list-item-checkbox",attrs:{checked:"",disabled:"",type:"checkbox"}}),t._v(" @vue/cli-plugin-xxx")]),t._v(" "),e("li",{staticClass:"task-list-item"},[e("input",{staticClass:"task-list-item-checkbox",attrs:{disabled:"",type:"checkbox"}}),t._v(" 上面提到的特性的实现方式")]),t._v(" "),e("li",{staticClass:"task-list-item"},[e("input",{staticClass:"task-list-item-checkbox",attrs:{disabled:"",type:"checkbox"}}),t._v(" 如何实现的插件机制")])]),t._v(" "),e("h2",{attrs:{id:"目录结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[t._v("#")]),t._v(" 目录结构")]),t._v(" "),e("p",[t._v("整个项目是通过 lerna 来管理，使用固定模式，所有包使用相同的版本。")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/llccing-demo/vue-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/llccing-demo/vue-cli"),e("OutboundLink")],1),t._v(" 这里是fork项目，与文章中的代码相呼应。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" packages\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" @vue "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 命令、插件集合")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 全局命令注册")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("init\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("overlay\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("service "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vue-cli-service serve/build/inspect/help 命令的核心")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("service"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("global "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 壳，核心内容在 ../cli-service")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("shared"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("utils "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 封装的各种工具函数")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("test"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("utils\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" babel"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("preset"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("app\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ui\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ui"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("addon"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("webpack\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ui"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("addon"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("widgets\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("babel\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e2e"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("cypress\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e2e"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("nightwatch\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("eslint\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pwd\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("typescript\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("unit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("jest\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("unit"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("mocha\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("vuex\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("router\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" test "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 给开发的同学测试")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" vue"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("cli"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("version"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("marker "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用来更加快速的获取 @vue/cli 的最新版本")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" script "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 脚本目录")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" docs "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文档当然用自家的 VuePress")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" lerna"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过 lerna 来管理包")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" yarn"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lock "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过 yarn 来管理依赖")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("circleci "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过 circleCI 测试、构建项目")]),t._v("\n")])])]),e("h2",{attrs:{id:"调试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调试"}},[t._v("#")]),t._v(" 调试")]),t._v(" "),e("p",[t._v("只有代码能够调试，我们才能够逐步跟踪代码执行，掌握脉络。")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/vuejs/vue-cli/blob/dev/.github/CONTRIBUTING.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档"),e("OutboundLink")],1),t._v("中有说明如何参与开发，这和能够进行调试的原理是一致的，做如下调整，重要的是先卸载全局安装的 "),e("code",[t._v("@vue/cli")]),t._v(" 和 "),e("code",[t._v("vue-cli")]),t._v(" 因为你可能是 CLI2 版本的，然后进入到 "),e("code",[t._v("packages/@vue/cli")]),t._v(" 目录，执行 "),e("code",[t._v("yarn link")]),t._v(" 即可。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("# install dependencies\nyarn\n\n# link "),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("vue")]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v(" executable\n# "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" you have the old vue"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("cli installed globally"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" you may\n# need to uninstall it first"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\ncd packages"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("@vue"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cli\nyarn link\n\n# create test projects "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("packages"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test\ncd "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\ncd packages"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test\nvue create test"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("app\ncd test"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("app\nyarn serve\n")])])]),e("h2",{attrs:{id:"项目依赖"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#项目依赖"}},[t._v("#")]),t._v(" 项目依赖")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/tj/commander.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("commander"),e("OutboundLink")],1),t._v(" tj大神的node命令行工具，用于获取参数、设置默认值")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/sindresorhus/slash",target:"_blank",rel:"noopener noreferrer"}},[t._v("slash"),e("OutboundLink")],1),t._v(" 修改资源路径，保证 Unix 和 Windows 返回路径一致")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/substack/minimist",target:"_blank",rel:"noopener noreferrer"}},[t._v("minimist"),e("OutboundLink")],1),t._v(" 命令行参数解析器")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/dcporter/didyoumean.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("didyoumean"),e("OutboundLink")],1),t._v(" 一个简单的，经过优化的 js 库 和 node.js 模块，能够将人的个性化输入和各种可能性进行匹配")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/visionmedia/debug",target:"_blank",rel:"noopener noreferrer"}},[t._v("debug"),e("OutboundLink")],1),t._v(" 带有命名空间的日志输出工具，能够彩色打印，支持浏览器和node.js，使用的时候，需要设置以下代码 debug.enabled = true")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/browserify/resolve",target:"_blank",rel:"noopener noreferrer"}},[t._v("resolve"),e("OutboundLink")],1),t._v(" 实现 node.js require.resolve() 算法。")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/motdotla/dotenv",target:"_blank",rel:"noopener noreferrer"}},[t._v("dotenv"),e("OutboundLink")],1),t._v(" 载入项目根目录的环境变量")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/request/request",target:"_blank",rel:"noopener noreferrer"}},[t._v("request"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://github.com/request/request-promise-native",target:"_blank",rel:"noopener noreferrer"}},[t._v("request-promise-native"),e("OutboundLink")],1),t._v(" 这个两个库已经弃用了；"),e("code",[t._v("@vue/cli-share-utils/lib/request.js")]),t._v(" 中有用到 "),e("code",[t._v("request-promise-native")]),t._v("，这个以后可以对应升级")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/chalk/chalk",target:"_blank",rel:"noopener noreferrer"}},[t._v("chalk"),e("OutboundLink")],1),t._v(" 为命令行字符串添加样式")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/sindresorhus/execa",target:"_blank",rel:"noopener noreferrer"}},[t._v("execa"),e("OutboundLink")],1),t._v(" 改善了 node.js 原来的 Child Process 进程，执行脚本命令")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/npm/node-semver",target:"_blank",rel:"noopener noreferrer"}},[t._v("semver"),e("OutboundLink")],1),t._v(" 语义化版本，同时能够进行版本的比较")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/isaacs/node-lru-cache",target:"_blank",rel:"noopener noreferrer"}},[t._v("lru-catch"),e("OutboundLink")],1),t._v(" 高速缓存对象，用于删除最近最少使用的项目")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/tabrindle/envinfo",target:"_blank",rel:"noopener noreferrer"}},[t._v("envinfo"),e("OutboundLink")],1),t._v(" 为了调试和提 issue，针对当前的开发环境生成一个报告")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/sindresorhus/leven",target:"_blank",rel:"noopener noreferrer"}},[t._v("leven"),e("OutboundLink")],1),t._v(" 测量两个不同的字符串的差别，实现莱温斯坦距离算法最快的js实现，没有之一...")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/sindresorhus/ora",target:"_blank",rel:"noopener noreferrer"}},[t._v("ora"),e("OutboundLink")],1),t._v(" 优雅的终端旋转器")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/http-party/node-portfinder",target:"_blank",rel:"noopener noreferrer"}},[t._v("portfinder"),e("OutboundLink")],1),t._v(" 在当前机器找到空闲端口号的小工具，解决了项目启动端口号冲突的痛点")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/hapijs/hapi",target:"_blank",rel:"noopener noreferrer"}},[t._v("@hapi/joi"),e("OutboundLink")],1),t._v(" 参数校验 'Build powerful, scalable applications, with minimal overhead and full out-of-the-box functionality'")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/SBoudrias/Inquirer.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Inquirer"),e("OutboundLink")],1),t._v(" 命令行的通用交互界面集合")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/streamich/memfs",target:"_blank",rel:"noopener noreferrer"}},[t._v("memfs"),e("OutboundLink")],1),t._v(" 内存型文件系统，在这里的用处主要是运行jest测试的时候使用")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/TehShrike/deepmerge",target:"_blank",rel:"noopener noreferrer"}},[t._v("deepmerge"),e("OutboundLink")],1),t._v(" 对象的深度（递归）合并")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/dworthen/js-yaml-front-matter",target:"_blank",rel:"noopener noreferrer"}},[t._v("yaml-front-matter"),e("OutboundLink")],1),t._v(" 从字符串或者文件中解析 "),e("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2016/07/yaml.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("YAML"),e("OutboundLink")],1),t._v(" 或者 json")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/mde/ejs",target:"_blank",rel:"noopener noreferrer"}},[t._v("ejs"),e("OutboundLink")],1),t._v(" 嵌入式的 JavaScript 模板引擎")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/bevacqua/hash-sum",target:"_blank",rel:"noopener noreferrer"}},[t._v("hash-sum"),e("OutboundLink")],1),t._v(" 快速独特的哈希生成器")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/psalaets/vue-jscodeshift-adapter",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-jscodeshift-adapter"),e("OutboundLink")],1),t._v(" 在 Vue 单文件组件中执行 jscodeshift")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/facebook/jscodeshift",target:"_blank",rel:"noopener noreferrer"}},[t._v("jscodeshift"),e("OutboundLink")],1),t._v(" A JavaScript codemod toolkit。两个介绍："),e("a",{attrs:{href:"https://github.com/whxaxes/blog/issues/10",target:"_blank",rel:"noopener noreferrer"}},[t._v("jscodeshift 简易教程"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://imweb.io/topic/57b13b4f93d9938132cc8dfd",target:"_blank",rel:"noopener noreferrer"}},[t._v("代码重构利器-jscodeshift"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=a.exports}}]);